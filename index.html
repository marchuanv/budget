<html>
	<head>
		<link rel="stylesheet"  type="text/css" href="styles.css">
		<script type="text/javascript" src="getremoteinstance.js"></script>
		<title>Budget</title>
	</head>
	<body>
		<script type="text/javascript">

			function newBalance(){
				const _newBalance=parseFloat(document.getElementById("balance").value);
				balanceRemote.setBalance(_newBalance);
			};
			
			getRemoteInstance("budget", "Balance").then(async(balanceRemote)=>{
				getRemoteInstance("utils-api", "Utils").then(async(utils)=>{
					const remainingbalance = await balanceRemote.getBalance();
					const remainingdays = await utils.getRemainingDaysInCurrentMonth();
					await balanceRemote.setRemainingDays(remainingdays);
					const dailyexpenditure = await balanceRemote.getDailyExpenditure();
					document.getElementById("daily").innerText = `Daily Expenditure: ${(Math.round(dailyexpenditure * 100) / 100)}`;
					document.getElementById("balance").value = remainingbalance;
				});
			});

		</script>
		<p>Total Balance: <input type="text" id="balance" placeholder="enter total balance here..." value="" onchange="newBalance()"/></p>
		<p id="daily">Daily Expenditure: 0</p>
	</body>
</html>
