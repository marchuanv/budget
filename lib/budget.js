function Budget() {
  
  this.allowance = 0;
  this.expenses = [];
  this.date = null;

  this.addExpense=(name, amount) => {
    this.expenses.push({name, amount: parseFloat(amount)});
    this.allowance = this.expenses.map(x=> x.amount).reduce((total, amount) => (total - amount));
  };

  this.getAllowance=() => {
    return this.allowance;
  };

  this.getIncome=() => {
    const expense = this.expenses.find(x=>x.name === "openingbalance");
    if (expense){
      return expense.amount;
    }
  }

  this.reset = (incomeAfterTax) => {
    this.allowance = 0;
    this.expenses = [];
    this.date = new Date();
    this.addExpense("openingbalance", incomeAfterTax);
  };

  this.getDate=() => {
    return this.date;
  }

}